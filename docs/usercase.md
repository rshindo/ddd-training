# ユースケース

## ユーザー登録

1. 顧客はログイン画面にアクセスする
2. 顧客は「新規登録」を実行する
3. 顧客はユーザ登録に必要な情報を入力する
4. システムは、入力された情報を表示する
5. 顧客は表示された情報を確認して「登録」を実行する
6. システムは、ユーザIDを発行する
7. システムは、入力された情報をもとにユーザ情報を新規登録する
8. システムは、発行されたユーザIDを表示する


## ログイン

1. 顧客は、ユーザIDとパスワードを入力する
2. システムは、ユーザIDとパスワードが正しいことを確認し、商品選択画面を表示する

## ログオフ

1. 顧客は、「ログオフ」を実行する

## 商品検索

1. 顧客は、商品カテゴリリストから商品カテゴリを選択する
2. システムは、選択された商品カテゴリリストに含まれる商品を検索する
3. システムは、抽出したデータを商品カテゴリ別商品リストとして表示する
4. 顧客が商品カテゴリリストから商品カテゴリを選択するたびに1〜3を繰り返す

### 商品詳細表示

商品検索(3)で商品カテゴリ別商品リストを表示済みであるものとする。

1. 顧客は、商品を選択して「詳細」を実行する
2. システムは、選択された商品の情報を検索する
3. システムは、抽出した商品の情報を表示する
4. 顧客は、商品の情報を確認する

## 商品をカートに入れる

1. 顧客は、商品リストから購入する商品を選択肢、購入する数量を入力する
2. 顧客は、「カートに入れる」を選択する。
4. システムは、商品リストで選択された商品と数量でカート内明細を作成し、単価と数量で金額を計算する
5. システムは、カートの合計金額を求める
6. 顧客とシステムは、顧客が「カート内リスト」を実行するまで1〜4を繰り返す
7. 顧客は、「カート内リスト」を実行する
8. システムは、カート内に保存された明細のリストを表示する
9. 顧客とシステムは、顧客が「注文手続きへ」を実行するまで、1〜7を繰り返す

### 顧客が、商品を一つも選択せずに「カート内リスト」を実行した場合

1. システムは、「カートには何もない」旨のメッセージを表示する

### 顧客が、「カート内リスト」で数量を変更した場合

1. システムは、明細行と数量で該当する明細を更新する
2. システムは、カートの合計金額を求める

## 注文情報を登録する

1. 顧客は「注文手続きをする」を実行する
2. 顧客は注文内容を確認する
3. 顧客は「支払い方法・届け先情報の入力」を実行する
4. システムは「支払い方法・届け先情報の入力」の画面を表示する
5. 顧客は、支払い方法、届け先情報を入力する
6. システムは、受注データと5.で入力した内容を表示する
7. 顧客は「注文の確定」を実行する
8. システムは、受注データで在庫引当を行う
9. システムは、受注コードを発番し、受注テーブルに登録する
10. 顧客は、受注コードを確認する

### 受注データの中に在庫引当不可能な商品がある場合

1. システムは、受注テーブルに登録せずに「引当不可能」メッセージを表示する
2. ユースケース：「商品をカートに入れる」を実行する

### 受注金額が与信限度額をオーバーした場合

1. システムは、「受注受付不可。カスタマーサービスへ問い合わせ」のメッセージを表示する
2. システムは、受注エラーテーブルに受注内容を登録する
3. ユースケース：「ログオフする」を実行する

## ログオフする

1. 顧客は「ログオフ」を実行する
2. システムは、これまで作成した受注データを削除する
3. システムは、トップページを表示する

